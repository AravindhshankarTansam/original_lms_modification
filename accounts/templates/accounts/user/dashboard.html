{% extends "base.html" %}
{% load static %}

{% block title %}Dashboard | eLearning{% endblock %}

{% block extra_head %}
<link href="{% static 'css/dashboard.css' %}" rel="stylesheet">
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <h3 class="sidebar-title">eLearning</h3>
    <i class="fas fa-bars toggle-btn" id="toggleSidebar"></i>
  </div>

  <ul class="sidebar-menu">
    <li><a href="/dashboard/" class="active"><i class="fas fa-home me-2"></i><span>Dashboard</span></a></li>
    <li><a href=""><i class="fas fa-book me-2"></i><span>Courses</span></a></li>
    <li><a href=""><i class="fas fa-user me-2"></i><span>Profile</span></a></li>
    <li><a href="/logout/"><i class="fas fa-sign-out-alt me-2"></i><span>Logout</span></a></li>
  </ul>
</div>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary py-3 shadow-sm full-navbar" id="mainNavbar">
  <div class="navbar-container">
    <div class="left-section">
      <h5 class="text-white mb-0 fw-semibold" id="dashboardTitle">Dashboard</h5>
    </div>

    <div class="right-section dropdown">
      <a
        class="nav-link dropdown-toggle text-white d-flex align-items-center"
        href="#"
        role="button"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <i class="fas fa-user-circle fa-lg me-2"></i>
        Welcome, {{ request.user.username }}
      </a>
      <ul class="dropdown-menu dropdown-menu-end shadow-sm">
        <li><a class="dropdown-item" href="/profile/">Profile</a></li>
        <li><a class="dropdown-item" href="/logout/">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Main Content -->
<div class="main-content" id="mainContent">
  <div class="content-section py-4">
    <h4 class="fw-bold mb-3">Available Courses</h4>

    <!-- Carousel Wrapper -->
    <div class="carousel-container" id="carouselContainer">
      <button class="carousel-arrow left-arrow" id="leftArrow">&#10094;</button>
      <div class="carousel-track" id="carouselTrack">
        {% for i in "12345" %}
      <article class="card"
         data-language="English"
         data-rating="4.5"
         data-title="Course Name {{ i }}">
  <a class="card-link" href="#0">
    <img class="card-img" src="{% static 'images/course'|add:i|add:'.jpg' %}" alt="Course {{ i }}">
    <div class="card-details">
      <div>
        <div class="card-subtitle">Course {{ i }}</div>
        <h3 class="card-title">Course Name {{ i }}</h3>
        <div class="card-content">Brief description of the course goes here. Learn and improve your skills.</div>
      </div>
      <div class="card-view-more">
        View more
        <svg width="24" height="24" viewBox="0 0 24 24">
          <path d="M7 7h8.586L5.293 17.293l1.414 1.414L17 8.414V17h2V5H7v2z" />
        </svg>
      </div>
    </div>
  </a>
</article>

        {% endfor %}
      </div>
      <button class="carousel-arrow right-arrow" id="rightArrow">&#10095;</button>
    </div>
  </div>
</div>

<!-- ========================= FILTER DRAWER ========================= -->


<!-- ================== Trending Topics Section ================== -->
<div class="trending-section">
  
  <!-- FILTER DRAWER + BUTTON -->
  <div class="filter-wrapper">
    <div class="filter-overlay" id="filterOverlay"></div>

    <aside class="filter-drawer" id="filterDrawer">
      <div class="filter-header">
        <h4>Filters</h4>
        <button id="closeFilterBtn" class="close-filter">&times;</button>
      </div>

      <div class="filter-body">
        <!-- Ratings -->
        <div class="filter-block">
          <h5>Ratings</h5>
          <label><input type="checkbox"> ★ 4.5 & up (10,000)</label>
          <label><input type="checkbox"> ★ 4.0 & up (8,000)</label>
          <label><input type="checkbox"> ★ 3.5 & up (6,000)</label>
        </div>

        <!-- Language -->
        <div class="filter-block">
          <h5>Language</h5>
          <label><input type="checkbox"> English</label>
          <label><input type="checkbox"> Español</label>
          <label><input type="checkbox"> Français</label>
          <label><input type="checkbox"> Türkçe</label>
        </div>

        <!-- Hands-on Practice -->
        <div class="filter-block">
          <h5>Hands-on Practice</h5>
          <label><input type="checkbox"> Quizzes</label>
          <label><input type="checkbox"> Coding Exercises</label>
          <label><input type="checkbox"> Practice Tests</label>
          <label><input type="checkbox"> Role Plays</label>
        </div>
      </div>

      <div class="filter-footer">
        <button class="clear-btn">Clear All</button>
        <button class="apply-btn">Apply</button>
      </div>
    </aside>

    <!-- Filter Button -->
    <button id="openFilterBtn" class="open-filter-btn">
      <i class="fas fa-filter"></i> Filters
    </button>
  </div>

  <!-- Trending Topics Title -->
  <h4 class="fw-bold mb-3 mt-4">Trending Topics</h4>

  <!-- Trending Carousel Container -->
  <div class="trending-carousel-container">
    <button class="trend-arrow left" id="trendLeft">&#10094;</button>

    <div class="trending-carousel-track" id="trendingTrack">
      <!-- Card 1 -->
      <div class="trending-item">
        <div class="trending-content">
          <div class="trending-left">
            <div class="trend-card">
              <img src="{% static 'images/trending1.jpg' %}" alt="Trending Course" class="trend-img">
              <div class="trend-details">
                <h5 class="trend-title">Advanced Data Science</h5>
                <p class="trend-desc">Master Python, ML, and AI with real-world projects and mentorship support.</p>
              </div>
            </div>
          </div>
          <div class="trending-right">
            <div class="trend-info-box">
              <p><strong>Total Hours:</strong> 60 hrs</p>
              <p><strong>Estimation:</strong> 6 Weeks</p>
              <p><strong>Assessment:</strong> Included</p>
              <p><strong>Price:</strong> ₹2499</p>
              <button class="btn-enroll">Enroll Now</button></button><button class="btn-cart">Add to Cart</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="trending-item">
        <div class="trending-content">
          <div class="trending-left">
            <div class="trend-card">
              <img src="{% static 'images/trending2.jpg' %}" alt="Trending Course" class="trend-img">
              <div class="trend-details">
                <h5 class="trend-title">Web Development Bootcamp</h5>
                <p class="trend-desc">Learn HTML, CSS, JS, and frameworks with hands-on projects.</p>
              </div>
            </div>
          </div>
          <div class="trending-right">
            <div class="trend-info-box">
              <p><strong>Total Hours:</strong> 80 hrs</p>
              <p><strong>Estimation:</strong> 8 Weeks</p>
              <p><strong>Assessment:</strong> Included</p>
              <p><strong>Price:</strong> ₹2999</p>
              <button class="btn-enroll">Enroll Now</button><button class="btn-cart">Add to Cart</button>

            </div>
          </div>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="trending-item">
        <div class="trending-content">
          <div class="trending-left">
            <div class="trend-card">
              <img src="{% static 'images/trending3.jpg' %}" alt="Trending Course" class="trend-img">
              <div class="trend-details">
                <h5 class="trend-title">UI/UX Design Mastery</h5>
                <p class="trend-desc">Create modern UI/UX designs and prototypes with Figma & Adobe XD.</p>
              </div>
            </div>
          </div>
          <div class="trending-right">
            <div class="trend-info-box">
              <p><strong>Total Hours:</strong> 50 hrs</p>
              <p><strong>Estimation:</strong> 5 Weeks</p>
              <p><strong>Assessment:</strong> Included</p>
              <p><strong>Price:</strong> ₹1999</p>
              <button class="btn-enroll">Enroll Now</button></button><button class="btn-cart">Add to Cart</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <button class="trend-arrow right" id="trendRight">&#10095;</button>

    <!-- Dot Indicators -->
    <div class="trend-indicators" id="trendIndicators">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>
</div>

<!-- ================== Curriculum Navigation ================== -->
<h2 class="text-center mt-5 text-dark">Explore More</h2>
<nav class="lava-nav mt-3 mb-4" id="lavaNav">
  <a href="#" class="lava-link active" data-tab="curriculum">Curriculum</a>
  <a href="#" class="lava-link" data-tab="projects">Projects</a>
  <a href="#" class="lava-link" data-tab="quizzes">Quizzes</a>
  <a href="#" class="lava-link" data-tab="certificates">Certificates</a>
  <a href="#" class="lava-link" data-tab="resources">Resources</a>
  <div class="animation start-curriculum"></div>
</nav>

<!-- Dynamic content container -->
<div id="lavaContent" class="lava-content p-4 bg-white shadow rounded">
  <h4>Curriculum</h4>
  <p>Welcome to the curriculum! Explore lessons, modules, and learning paths.</p>
</div>

<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}
