{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{ request.user.username }} | Dashboard</title>

  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
  <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">
  <link rel="shortcut icon" href="{% static 'favicon.ico' %}" type="image/x-icon">
  <!-- Bootstrap Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<!-- Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">


</head>
<body>

  <!-- ===== HEADER ===== -->
  <header class="top-bar d-flex justify-content-between align-items-center px-4 py-2">
    <div class="logo d-flex align-items-center">
      <img src="{% static 'images/tansamoldlogo.png' %}" alt="Tansam e-LMS" height="70">
    </div>

    <div class="header-text flex-grow-1 text-center">
      <h2 class="mb-0 fw-bold text-light">Tansam e-Learning</h2>
    </div>

    <div class="icons d-flex align-items-center gap-3">
      <span id="menu-icon" class="icon fs-4">‚ò∞</span>
    </div>
  </header>

  <!-- ===== SIDEBAR ===== -->
<div id="sidebar" class="sidebar">
  <span class="sidebar-close" id="sidebar-close">&times;</span>

  <div class="sidebar-content text-center mt-4">
    <!-- Welcome Banner -->
    <div class="welcome-banner mb-4">
      <div class="split-text-container">
        <span class="text-part left">Welcome,</span>
        <span class="text-part right">{{ request.user.username }}</span>
      </div>
    </div>

    <!-- Sidebar Buttons -->
    <a href="{% url 'user_profile' %}" class="btn btn-outline-primary w-100 mb-3 fw-semibold" role="button">
      User Profile
    </a>
    <a href="{% url 'my_courses' %}" class="btn btn-outline-primary w-100 mb-3 fw-semibold" role="button">
      My Courses
    </a>
    <a href="{% url 'courses_catalog' %} " class="btn btn-outline-primary w-100 mb-3 fw-semibold" role="button">
      Explore Courses
    </a>
  </div>

  <div class="sidebar-footer">
    <button onclick="window.location.href='{% url 'logout' %}'" class="logout-btn w-100 fw-semibold d-flex align-items-center justify-content-center gap-2">
  <i class="bi bi-box-arrow-right fs-5"></i>
  Logout
</button>

  </div>
</div>

  <!-- ===== OVERLAY ===== -->
  <div id="sidebar-overlay"></div>

  <!-- ===== MAIN DASHBOARD CONTENT ===== -->
  <section class="main-content-wrapper p-4">

    <!-- Welcome Section -->
    <div class="welcome-banner mb-4 text-center">
      <h2>Welcome {{ request.user.username }}</h2>
    </div>

   <!-- Slider Section -->
<section class="featured-slider-section">

  <div class="featured-slider-wrapper">
    <button class="slider-btn left-btn">&#10094;</button>

    <div class="featured-slider">
      <!-- Featured Card 1 -->
      <div class="featured-card">
        <img src="{% static 'images/course1.png' %}" alt="Course Image">
        <div class="card-info">
          <h3>Build a complete distributed app using .Net Aspire</h3>
          <p>A complete guide to building an app using Aspire with .Net services and Next.js from scratch</p>
          <span class="author">By Neil Cummings</span>
          <span class="updated">Updated <strong>September 2025</strong></span>
          <span class="hours">26.5 total hours ‚Ä¢ 191 lectures ‚Ä¢ Intermediate</span>
          <div class="rating">
            <span>4.9 ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (24)</span>
            <span class="badge">Highest Rated</span>
          </div>
          <div class="price">
            ‚Çπ499 <span class="original-price">‚Çπ2,119</span>
          </div>
        </div>
      </div>

      <!-- Featured Card 2 -->
      <div class="featured-card">
        <img src="{% static 'images/course2.png' %}" alt="Course Image">
        <div class="card-info">
          <h3>Another Course Title</h3>
          <p>Short description about the course goes here.</p>
          <span class="author">By John Doe</span>
          <span class="updated">Updated <strong>August 2025</strong></span>
          <span class="hours">20 total hours ‚Ä¢ 150 lectures ‚Ä¢ Beginner</span>
          <div class="rating">
            <span>4.8 ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (30)</span>
            <span class="badge">Popular</span>
          </div>
          <div class="price">
            ‚Çπ399 <span class="original-price">‚Çπ1,999</span>
          </div>
        </div>
      </div>
  <!-- Featured Card 3 -->
      <div class="featured-card">
        <img src="{% static 'images/course2.png' %}" alt="Course Image">
        <div class="card-info">
          <h3>Another Course Title</h3>
          <p>Short description about the course goes here.</p>
          <span class="author">By John Doe</span>
          <span class="updated">Updated <strong>August 2025</strong></span>
          <span class="hours">20 total hours ‚Ä¢ 150 lectures ‚Ä¢ Beginner</span>
          <div class="rating">
            <span>4.8 ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (30)</span>
            <span class="badge">Popular</span>
          </div>
          <div class="price">
            ‚Çπ399 <span class="original-price">‚Çπ1,999</span>
          </div>
        </div>
      </div>
       <!-- Featured Card 5 -->
      <div class="featured-card">
        <img src="{% static 'images/course2.png' %}" alt="Course Image">
        <div class="card-info">
          <h3>Another Course Title</h3>
          <p>Short description about the course goes here.</p>
          <span class="author">By John Doe</span>
          <span class="updated">Updated <strong>August 2025</strong></span>
          <span class="hours">20 total hours ‚Ä¢ 150 lectures ‚Ä¢ Beginner</span>
          <div class="rating">
            <span>4.8 ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (30)</span>
            <span class="badge">Popular</span>
          </div>
          <div class="price">
            ‚Çπ399 <span class="original-price">‚Çπ1,999</span>
          </div>
        </div>
      </div>
      <!-- Add more cards as needed -->
    </div>

    <button class="slider-btn right-btn">&#10095;</button>
  </div>
</section>

    <!-- Cards Section -->
    <section class="card-grid">
      <div class="card card-my-courses">Python</div>
      <div class="card card-mxd-content">Digital Information</div>
      <div class="card card-partner-content">Machine learning</div>
      <div class="card card-resources">Full stack</div>
      <div class="card card-cybersecurity">Web development</div>
      <div class="card card-manufacturing">IOT</div>
    </section>

    <!-- FAQ and Catalog -->
    <section class="faq-catalog-section">
     <div class="faq">
  <h3>üìå Frequently Asked Questions</h3>
  <p>The answers to your questions</p>

  <button class="faq-btn" data-bs-toggle="collapse" data-bs-target="#faq1" aria-expanded="false" aria-controls="faq1">
    What is the Virtual Training Center? <i class="bi bi-chevron-down float-end"></i>
  </button>
  <div class="collapse" id="faq1">
    <div class="card card-body">
      The Virtual Training Center is an online platform providing access to courses and resources.
    </div>
  </div>

  <button class="faq-btn" data-bs-toggle="collapse" data-bs-target="#faq2" aria-expanded="false" aria-controls="faq2">
    What is Tansam will do? <i class="bi bi-chevron-down float-end"></i>
  </button>
  <div class="collapse" id="faq2">
    <div class="card card-body">
      Tansam provides e-learning solutions and training programs for professionals.
    </div>
  </div>

  <button class="faq-btn" data-bs-toggle="collapse" data-bs-target="#faq3" aria-expanded="false" aria-controls="faq3">
    What type of work does Tansam do? <i class="bi bi-chevron-down float-end"></i>
  </button>
  <div class="collapse" id="faq3">
    <div class="card card-body">
      Tansam specializes in virtual training, certification programs, and e-learning content development.
    </div>
  </div>

  <button class="faq-btn" data-bs-toggle="collapse" data-bs-target="#faq4" aria-expanded="false" aria-controls="faq4">
    What is the Training program? <i class="bi bi-chevron-down float-end"></i>
  </button>
  <div class="collapse" id="faq4">
    <div class="card card-body">
      The Training program offers structured learning paths and practical sessions for skill development.
    </div>
  </div>

  <button class="faq-btn" data-bs-toggle="collapse" data-bs-target="#faq5" aria-expanded="false" aria-controls="faq5">
    How can I attend an event? <i class="bi bi-chevron-down float-end"></i>
  </button>
  <div class="collapse" id="faq5">
    <div class="card card-body">
      You can attend events by registering through our event page or via email invitation.
    </div>
  </div>
</div>

      <div class="catalog-banner">
        <h1>CAPITAL</h1>
        <p class="catalog-subtitle">Catalog</p>
        <p class="joint-cert">JOINT CERTIFICATION</p>
      </div>
    </section>

    <!-- Leaderboard + Polls -->
    <!-- <section class="leader-poll">
      <div class="leaderboard">
        <h4>üìä Leaderboards</h4>  
        <p>Your company leaderboards</p>
        <div class="rank-bar">
          <span>Course Completions</span>
          <span>Rank 207</span>
        </div>
      </div>

      <div class="polls">
        <h4>üó≥Ô∏è Polls & Surveys</h4>
        <p>Vote on the latest topics</p>
        <p class="poll-question">
          Have you taken the new Introduction to Standards Development courses?
        </p>
        <button class="vote-btn">Vote!</button>
      </div>

      <div class="resume-box">
        <img src="{% static 'images/learn-icon.jpg' %}" alt="MxD Learn" />
        <div>
          <p><strong>Cybersecurity Analyst (100)</strong><br/> Resume ‚ñ∂</p>
        </div>
      </div>
    </section> -->
    <!-- START: Enrolled Courses Carousel Section -->

  <div class=" my-8 px-6 max-w-7xl mx-auto relative">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-semibold text-gray-900">Let's start learning</h2>
      <a href="{% url 'my_courses' %}" class="text-purple-700 font-semibold underline">My learning</a>
    </div>

    <!-- Arrow buttons -->
    <button id="carouselPrev" class="carousel-nav-btn left" aria-label="Scroll left">&#9664;</button>
    <button id="carouselNext" class="carousel-nav-btn right" aria-label="Scroll right">&#9654;</button>

    <!-- Carousel container -->
    <div id="courseCarousel" class="flex space-x-4 overflow-x-auto scrollbar-hide flex-nowrap">
      <!-- Course Card 1 -->
      <div class="course-card">
        <div class="card-thumb relative">
          <img src="{% static 'images/learn-icon.jpg' %}" alt="Course Thumbnail" class="thumb-img" />
          <button
            class="absolute left-3 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg"
            aria-label="Play course video"
          >
            <i class="bi bi-play-fill text-xl text-gray-800"></i>
          </button>
        </div>
        <div class="card-info">
          <div class="text-xs font-semibold text-gray-500 mb-1">Java Spring Framework, Spring Boot, ‚Ä¶</div>
          <h3 class="font-bold text-sm mb-2">135. Failed attempt to save data</h3>
          <p class="text-xs text-gray-600">Lecture ‚Ä¢ 8m</p>
        </div>
      </div>

      <!-- Course Card 2 -->
      <div class="course-card">
        <div class="card-thumb relative">
          <img src="{% static 'images/learn-icon.jpg' %}" alt="Course Thumbnail" class="thumb-img" />
          <button
            class="absolute left-3 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg"
            aria-label="Play course video"
          >
            <i class="bi bi-play-fill text-xl text-gray-800"></i>
          </button>
        </div>
        <div class="card-info">
          <div class="text-xs font-semibold text-gray-500 mb-1">Java Complete Course Using Visual Studio</div>
          <h3 class="font-bold text-sm mb-2">1. Java Arrays Vs code</h3>
          <p class="text-xs text-gray-600">Lecture ‚Ä¢ 4m</p>
        </div>
      </div>

      <!-- Course Card 3 -->
      <div class="course-card">
        <div class="card-thumb relative">
          <img src="{% static 'images/learn-icon.jpg' %}" alt="Course Thumbnail" class="thumb-img" />
          <button
            class="absolute left-3 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-3 shadow-lg"
            aria-label="Play course video"
          >
            <i class="bi bi-play-fill text-xl text-gray-800"></i>
          </button>
        </div>
        <div class="card-info">
          <div class="text-xs font-semibold text-gray-500 mb-1">Gen AI Fundamentals</div>
          <h3 class="font-bold text-sm mb-2">1. Generative AI Models Terms</h3>
          <p class="text-xs text-gray-600">Lecture ‚Ä¢ 10m</p>
        </div>
      </div>

      <!-- Add more cards as needed -->
    </div>
  </div>


    <!-- Featured + News -->
    <section class="featured-latest-wrapper">
      <div class="featured-courses-scroll">
        <h3>Featured Courses</h3>
        <div class="featured-courses-scroll-container">
          <div class="course-card">
            <img src="{% static 'images/learn-icon.jpg' %}" alt="Course" />
            <div>
              <h4>Advanced Manufacturing Penetration Testing</h4>
              <p>Online Course<br/><span class="badge">‚≠ê Featured</span> 5 (1)</p>
            </div>
            <span class="start">Start ‚ñ∂</span>
          </div>

          <div class="course-card">
            <img src="{% static 'images/learn-icon.jpg' %}" alt="Course" />
            <div>
              <h4>Cybersecurity Analyst (100)</h4>
              <p>Online Course<br/><span class="badge">‚≠ê Featured</span></p>
            </div>
            <span class="start">Resume ‚ñ∂</span>
          </div>
        </div>
      </div>

      <div class="latest-news-box">
        <h3>üì∞ Latest News</h3>
        <ul>
          <li><span>Tansam Learn & SACA Co-developed Credential!</span><span>2 months ago</span></li>
          <li><span>University of Michigan and MxD Launch Groundbreaking EV Hiring Guide</span><span>4 months ago</span></li>
          <li><span>New Curriculum: Pre-Metaverse Integration Technologist</span><span>5 months ago</span></li>
        </ul>
      </div>
    </section>

    <!-- Catalog Carousel -->
    <section class="catalog-carousel">
  <h3>Catalog</h3>
  <div class="catalog-container">
    

    <div class="catalog-scroll">
    {% for course in courses %}
<div class="catalog-card">
    {% if course.image %}
        <img src="{{ course.image.url }}" alt="{{ course.title }}">
    {% else %}
        <img src="{% static 'images/default_course.png' %}" alt="Default Course Image">
    {% endif %}
    <h4>{{ course.title }}</h4>
    <p>Online Course</p>

    <form action="{% url 'enroll_course' %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="course_id" value="{{ course.id }}">
        <button type="submit" class="enroll-btn">Enroll ‚ûï</button>
    </form>
</div>
{% empty %}
<p style="text-align:center;">No courses available.</p>
{% endfor %}

    </div>

   
  </div>
 
</section>


    <!-- Personalized Journey -->
    <!-- <section class="personalized-journey">
      <div class="journey-left">
        <h3>Start your personalized learning journey</h3>
        <p>Select a role that you are interested in to build a list of recommended course content.</p>
        <button class="start-btn">Get started</button>
      </div>
      <div class="journey-right">
        <img src="{% static 'images/course6.png' %}" alt="Learning Journey Illustration" />
      </div>
    </section>

  </section> -->

  <!-- Footer -->
  <!-- <footer class="footer">
    <div class="language-selector">üåê EN</div>
  </footer> -->

  <!-- ===== JS ===== -->
  <script src="{% static 'js/dashboard.js' %}"></script>
  <script>
    const menuIcon = document.getElementById('menu-icon');
    const sidebar = document.getElementById('sidebar');
    const sidebarClose = document.getElementById('sidebar-close');
    const overlay = document.getElementById('sidebar-overlay');

    menuIcon.addEventListener('click', () => {
      sidebar.classList.add('active');
      overlay.classList.add('active');
    });
    sidebarClose.addEventListener('click', () => {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
    });
    overlay.addEventListener('click', () => {
      sidebar.classList.remove('active');
      overlay.classList.remove('active');
    });
  </script>
 <script>
const scrollContainer = document.querySelector('.catalog-scroll');
const scrollSpeed = 1; // pixels per frame, adjust speed as needed

function autoScroll() {
  scrollContainer.scrollLeft += scrollSpeed;

  // Loop back to start when reaching the end
  if (scrollContainer.scrollLeft >= scrollContainer.scrollWidth - scrollContainer.clientWidth) {
    scrollContainer.scrollLeft = 0;
  }

  requestAnimationFrame(autoScroll);
}

// Start auto-scrolling
autoScroll();

// Optional: pause on hover
scrollContainer.addEventListener('mouseenter', () => {
  scrollContainer.dataset.paused = "true";
});
scrollContainer.addEventListener('mouseleave', () => {
  scrollContainer.dataset.paused = "false";
});
</script>


</body>

</html>